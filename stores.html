<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="css/main.min.css">
	<link rel="shortcut icon" href="favicon.ico">

	<title>Стартовая страница</title>
</head>


<body>

	<div class="wrapper">
		<header class="header">
			<div class="container">
				<div class="header__content">
					<a href="index.html" class="header__logo">
						<img src="img/logo.svg" alt="logo-weestep" />
					</a>
		
					<div class="header__right">
						<div class="header__menu menu">
							<div class="menu__icon"></div>
							<nav class="menu__body">
								<ul class="menu__list">
									<li>
										<a href="about-us.html" class="active">О нас</a>
									</li>
									<li>
										<a href="shop.html">Каталог</a>
									</li>
									<li>
										<a href="stores.html">Где купить</a>
									</li>
									<li>
										<a href="blog-list.html">Блог</a>
									</li>
									<li>
										<a href="contacts.html">Контакты</a>
									</li>
									<li>
										<a href="size-guide.html">find yor fit</a>
									</li>
								</ul>
							</nav>
						</div>
		
						<div class="header-lang" data-move="menu__body,1,992">
							<p class="header-lang__text">укр</p>
							<ul class="header-lang__list">
								<li class="header-lang__item">
									<a class="header-lang__link" href="#">ру</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</header>
		<main class="main">

			<section class="stores">
				<div class="container">
					<h1 class="title color-orange">stores</h1>
					<div class="stores__content">
						<div class="stores__accordions-lists">
							<div class="stores__accordions">

								<div class="stores__accordion">
									<div class="stores__top" data-map="Poland">
										<h2>Poland</h2>
										<svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M1 8L7.5 2L14 8" stroke="black" stroke-width="2" />
										</svg>
									</div>
									<div class="stores__bottom">
										<div class="stores__list">
											<h3>ELMO Kids</h3>
											<address>Lis2a Kuli 3a 05-270 Marki</address>
											<p>Open hours <time>9:00 - 18:00</time></p>
											<a href="#" data-lat="51.9194" data-lng="19.1451">On the map</a>
										</div>
									</div>
								</div>
								<div class="stores__accordion">
									<div class="stores__top" data-map="Czechia">
										<h2>Czhech Republic</h2>
										<svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M1 8L7.5 2L14 8" stroke="black" stroke-width="2" />
										</svg>
									</div>
									<div class="stores__bottom">
										<div class="stores__list">
											<h3>ELMO Kids</h3>
											<address>Lisa Kuli 3a 05-270 Marki</address>
											<p>Open hours <time>9:00 - 18:00</time></p>
											<a href="" data-lat="50.073658" data-lng="14.418540">On the map</a>
										</div>
									</div>
								</div>
								<div class="stores__accordion">
									<div class="stores__top" data-map="Germany">
										<h2>Germany</h2>
										<svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M1 8L7.5 2L14 8" stroke="black" stroke-width="2" />
										</svg>
									</div>
									<div class="stores__bottom">
										<div class="stores__list">
											<h3>ELMO Kids</h3>
											<address>Lisa Kuli 3a 05-270 Marki</address>
											<p>Open hours <time>9:00 - 18:00</time></p>
											<a href="" data-lat="51.1657" data-lng="10.4515">On the map</a>
										</div>
									</div>
								</div>
								<div class="stores__accordion">
									<div class="stores__top" data-map="United Kingdom">
										<h2>Great Britain</h2>
										<svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M1 8L7.5 2L14 8" stroke="black" stroke-width="2" />
										</svg>
									</div>
									<div class="stores__bottom">
										<div class="stores__list">
											<h3>ELMO Kids</h3>
											<address>Lisa Kuli 3a 05-270 Marki</address>
											<p>Open hours <time>9:00 - 18:00</time></p>
											<a href="" data-lat="53.5500" data-lng="2.4333">On the map</a>
										</div>
									</div>
								</div>
								<div class="stores__accordion">
									<div class="stores__top" data-map="Latvia">
										<h2>Latvia</h2>
										<svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
											<path d="M1 8L7.5 2L14 8" stroke="black" stroke-width="2" />
										</svg>
									</div>
									<div class="stores__bottom">
										<div class="stores__list">
											<h3>ELMO Kids</h3>
											<address>Lisa Kuli 3a 05-270 Marki</address>
											<p>Open hours <time>9:00 - 18:00</time></p>
											<a href="" data-lat="56.946285" data-lng="24.105078">On the map</a>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="stores__maps">
							<div id="stores_map"></div>
						</div>
					</div>
				</div>
			</section>

		</main>
		<footer class="footer">
			<div class="container">
				<div class="footer__content">
					<div class="footer__top">
						<a href="#" class="footer__logo">
							<img src="img/logo.svg" alt="logo-weestep" />
						</a>
		
						<ul class="footer__list">
							<li>
								<a href="about-us.html">O нас</a>
							</li>
							<li>
								<a href="blog.html">Блог</a>
							</li>
							<li>
								<a href="shop.html">Каталог</a>
							</li>
							<li>
								<a href="stores.html">Где купить</a>
							</li>
							<li>
								<a href="contacts.html">Контакты</a>
							</li>
							<li>
								<a href="size-guide.html">find your fit</a>
							</li>
						</ul>
		
						<ul class="footer__list">
							<li>
								<a href="#">tiktok</a>
							</li>
							<li>
								<a href="#">instagram</a>
							</li>
							<li>
								<a href="#">facebook</a>
							</li>
							<li>
								<a href="#">youtube</a>
							</li>
						</ul>
		
						<div class="footer__info">
							<a href="#">Private policy</a>
							<a href="#">Terms & conditions</a>
						</div>
		
						<div class="header-lang header-lang-footer">
							<p class="header-lang__text header-lang__text-footer">укр</p>
							<ul class="header-lang__list">
								<li class="header-lang__item">
									<a class="header-lang__link" href="#">ру</a>
								</li>
							</ul>
						</div>
					</div>
		
					<div class="footer__bottom">
						<p>(с) 2021 All rigths reserved</p>
		
						<p>Website: Other Land</p>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<!-- Stores page -->
	<script
		src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places&key=AIzaSyBXPcMyyy-5C47OZBNV6tizMAmj8692A6Q&language=EN">
	</script>
	<!-- Stores page -->
	
	<script src="js/main.min.js"></script>

	<script>
		// карта
			$(".stores__top").on("click", function () {
				$(this).toggleClass("active").next(".stores__bottom").slideToggle()
			})

			let map = L.map('stores_map').setView([50.073658, 14.418540], 4)

			var myIcon = L.icon({
				iconUrl: 'img/mark.svg',
				iconSize: [38, 95],
			});
			// L.marker([51.9194, 19.1451], {icon: myIcon}).addTo(map)

			L.marker([51.9194, 19.1451], {
				icon: myIcon
			}).addTo(map)
			L.marker([50.073658, 14.418540], {
				icon: myIcon
			}).addTo(map)
			L.marker([51.1657, 10.4515], {
				icon: myIcon
			}).addTo(map)
			L.marker([53.5500, 2.4333], {
				icon: myIcon
			}).addTo(map)
			L.marker([56.946285, 24.105078], {
				icon: myIcon
			}).addTo(map)

			$('.stores__list a').on('click', function (e) {
				e.preventDefault()
				map.setView([$(this).attr('data-lat'), $(this).attr('data-lng')], 8)
			})

			map.on('click', function (e) {
				codeLatLng(e.latlng.lat, e.latlng.lng)
			})

			L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
				attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
			}).addTo(map);


			$(".leaflet-control-zoom").css("visibility", "hidden");

			function codeLatLng(lat, lng) {
				var geocoder = new google.maps.Geocoder();
				var latlng = new google.maps.LatLng(lat, lng);
				geocoder.geocode({
					'latLng': latlng
				}, function (results, status) {
					if (status == google.maps.GeocoderStatus.OK) {

						// Ответ
						alert(results[results.length - 1].formatted_address)
						$('.stores__top').map((i, e) => {
							if ($(e).attr('data-map') == results[results.length - 1].formatted_address) {
								$('.stores__top').removeClass('active')
								$(".stores__bottom").slideUp()
								$(e).addClass("active").next(".stores__bottom").slideDown()
							}
						})

						if (results[1]) {
							// alert(results[0].formatted_address)
							for (var i = 0; i < results[0].address_components.length; i++) {
								for (var b = 0; b < results[0].address_components[i].types.length; b++) {
									if (results[0].address_components[i].types[b] == "administrative_area_level_1") {
										city = results[0].address_components[i];
										break;
									}
								}
							}
							// alert(city.short_name + " " + city.long_name)
						} else {
							alert("No results found");
						}
					} else {
						alert("Geocoder failed due to: " + status);
					}
				});
			}
	</script>
</body>

</html>